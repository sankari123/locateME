<!DOCTYPE html>
<html>
    <head>
        <script src="http://maps.google.com/maps/api/js?sensor=false">
        </script>
        <script>
		var latitude ;
		var longitude;
            if (navigator.geolocation)
            {
                navigator.geolocation.getCurrentPosition(handle_geolocation_query);
            }
            else
            {
               alert("Geolocation API not supported.");
            }
			
			function handle_geolocation_query(position)
        {
		 latitude = position.coords.latitude;
                longitude = position.coords.longitude;
                
				
		  // alert(latitude);
		    var c = document.getElementById("myCanvas");
			var ctx = c.getContext("2d");
			ctx.clearRect(0,0,c.width, c.height);
   		   c.width = window.innerWidth;
			c.height = window.innerHeight;
           var google_tile = "http://maps.google.com/maps/api/staticmap?sensor=false&center=" + latitude + "," +longitude + "&zoom=19&size="+c.width+"x"+c.height+"&markers=color:blue|label:U|" +latitude + ',' + longitude;
			//var google_tile = "http://maps.google.com/maps/api/staticmap?sensor=false&center=" + latitude + "," +longitude + "&zoom=21&size=300x400&markers=color:blue|label:U|" +latitude + ',' + longitude;
            var canvas = document.getElementById("myCanvas");
            var context = canvas.getContext("2d");   
            var imageObj = new Image();
            imageObj.src = google_tile;
            
            imageObj.onload = function(){
              context.drawImage(imageObj, 0, 0);
            }
        }
		
        </script>
     <title>DIVE</title>
    </head>
    <style>
    #myCanvas {
        height: 400px;
        width: 700px;
     }
	#mapPlaceholder {
        height: 400px;
        width: 700px;
    </style>
    <body>
        <div>
			<div id="mapPlaceholder">  <canvas id="myCanvas">   </canvas></div>
        </div>
    </body>
</html>
